<!DOCTYPE html>
<!--[if lt IE 7 ]>
<html class="ie ie6" lang="en"> <![endif]-->
<!--[if IE 7 ]>
<html class="ie ie7" lang="en"> <![endif]-->
<!--[if IE 8 ]>
<html class="ie ie8" lang="en"> <![endif]-->
<!--[if (gte IE 9)|!(IE)]><!-->
<html lang="en"> <!--<![endif]-->
<head>

    <!-- Basic Page Needs
  ================================================== -->
    <meta charset="utf-8">
    <title>design</title>
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Mobile Specific Metas
  ================================================== -->
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

    <!-- CSS
  ================================================== -->
    <link rel="stylesheet" href="css/zerogrid.css">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/responsiveslides.css">
    <link rel="stylesheet" href="css/tabStyle.css" type="text/css">
    <link rel="stylesheet" href="css/design.css" type="text/css">
    <link rel="stylesheet" type="text/css" href="css/SyntaxHighlighter.css">
    <link rel="stylesheet" type="text/css" href="css/clothes.css">
    <link rel="stylesheet" type="text/css" href="css/xcConfirm.css"/>
    <style type="text/css">
        .sgBtn {
            width: 50px;
            height: 35px;
            line-height: 25px;
            margin-left: 10px;
            margin-top: 10px;
            text-align: center;
            background-color: #0095D9;
            color: #FFFFFF;
            float: left;
            border-radius: 5px;
        }
    </style>

    <script src="js/jquery-latest.min.js"></script>
    <script src="js/script.js"></script>
    <script src="js/jquery183.min.js"></script>
    <script src="js/responsiveslides.min.js"></script>
    <script src="js/lib/SyntaxHighlighter.js" type="text/javascript"></script>
    <script src="js/lib/raphael-min.js" type="text/javascript"></script>
    <script src="js/res/clothesMapConfig.js" type="text/javascript"></script>
    <script src="js/map.js" type="text/javascript"></script>
    <script src="js/xcConfirm.js" type="text/javascript" charset="utf-8"></script>
    <script>
        var map;
        var click_id;

        $(function () {
            // Slideshow 
            $("#slider").responsiveSlides({
                auto: true,
                pager: false,
                nav: true,
                speed: 500,
                namespace: "callbacks",
                before: function () {
                    $('.events').append("<li>before event fired.</li>");
                },
                after: function () {
                    $('.events').append("<li>after event fired.</li>");
                }
            });

            loadTab();

            map = $('#close').SVGMap({
                mapName: 'close',
                mapWidth: 500,
                mapHeight: 429,
                showTip: false,
                showName: true,
                showCapital: false,
                showOtherText: false,
                external: true,
                clickColorChange: true,
                clickCallback: function (mapData, obj) {
                    var color = obj.name.color;
                    click_id = obj.name.id;
                    $("#id").val(click_id);
                },
                unClickCallback: function (mapData, obj) {
                    click_id = obj.name.id;
                    $("#id").val(click_id);
                },
                hoverCallback: function (stateData, obj) {
                    // console.log(obj.name.id + " " + obj.name.color);
                    map.externalData["t" + obj.name.id].mouseout(function () {
                        // console.log(obj.name.id + " " + obj.name.color);
                        this.animate({
                            fill: obj.name.color
                        }, 300);
                    });
                }
            });

            initcolor();
        });

        //初始化色彩
        function initcolor() {
            var datas = closeMapConfig.names;
            for (var i in datas) {
                map.externalData[i].animate({
                    fill: datas[i].color
                }, 50);
                // console.log("===========" + i + " " + datas[i].color);
            }
        }

        function clickcolor(color) {
            if (click_id != null) {
                map.externalData["t" + click_id].animate({
                    fill: color
                }, 250);
                closeMapConfig.names["t" + click_id].color = color;
                // console.log("click ======= " + closeMapConfig.names["t" + click_id].color);
            } else {
                var txt = "Please select a color area";
                window.wxc.xcConfirm(txt, window.wxc.xcConfirm.typeEnum.warning);
            }
        }

        function resetTabs(obj, name) {
            if (name == ".tab1_1") {
                $(".tab1_2").hide();
                $(".tabs").find("li:first a").addClass("current");
                $(".tabs").find("li:last a").removeClass("current");
            } else {
                $(".tab1_1").hide();
                $(".tabs").find("li:first a").removeClass("current");
                $(".tabs").find("li:last a").addClass("current");
            }
            $(name).fadeIn();
        }

        function loadTab() {
            $(".content > div").hide();
            $(".tabs").each(function () {
                $(this).find("li:first a").addClass("current");//设置tab页样式
            });
            $(".content").each(function () {
                $(this).find("div:first").fadeIn();
            });
            $(".tabs a").on("click", function (e) {
                e.preventDefault();
                var name = $(this).attr("name");
                resetTabs(this, name);
            });
        }


    </script>
</head>
<body style="background-color: white;">
<div class="wrap-body">
    <header class="bg-theme">
        <div class="wrap-header zerogrid">
            <div class="row">
                <div id="cssmenu">
                    <ul>
                        <li class='active'><a href="index.html">Home</a></li>
                        <li><a href="design.html">Design</a></li>
                        <li><a href="single.html">About</a></li>
                        <li><a href="contact.html">Contact</a></li>
                    </ul>
                </div>
                <a href='index.html' class="logo"><img src="images/logo.png"/></a>
            </div>
        </div>
    </header>

    <div>
        <div style="width: 100%;height: 50px; text-align: left; line-height: 50px">
            <label style="font-size: 20px; margin-left: 50px">Design</label>
        </div>

        <div style="width: 99%; height: 468px; float:left; margin: 5px; text-align:center;">
            <!-- Left -->
            <div style="float:left; width: 500px;height: 429px; margin-left:50px">
                <!--<div id="ClickCallback" style="font-size:14px; color:red"></div>-->
                <!--<div id="UnClickCallback" style="font-size:14px; color:blue"></div>-->
                <div id="close" style="width: 500px;height: 429px; background:url(images/all-1.png);"></div>
                <!--<img src="images/all-1.png" alt="">-->
            </div>
            <!-- Middle -->
            <div style="float:left; width: 50px; height: 458px;background-color: white;">
            </div>
            <!-- Right -->
            <div style="float:left; width: 50%; height: 458px;">
                <ul class="tabs">
                    <li><a href="#" name=".tab1_1">Change Colors</a></li>
                    <li><a href="#" name=".tab1_2">Change Logo</a></li>
                </ul>
                <div class="content">
                    <div class="tab1_1">
                        <div class="colordiv" style="background-color: red;" onclick="clickcolor('red');"></div>
                        <div class="colordiv" style="background-color: yellow;" onclick="clickcolor('yellow');"></div>
                        <div class="colordiv" style="background-color: blue;" onclick="clickcolor('blue');"></div>
                        <div class="colordiv" style="background-color: green;" onclick="clickcolor('green');"></div>
                        <div class="colordiv" style="background-color: white;" onclick="clickcolor('white');"></div>
                        <div class="colordiv" style="background-color: purple;" onclick="clickcolor('purple');"></div>
                        <div class="colordiv" style="background-color: black;" onclick="clickcolor('black');"></div>
                    </div>
                    <div class="tab1_2">
                        Change Logo
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
</body>
</html>